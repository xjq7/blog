[[toc]]

## monorepo

### 概念

Monorepo 架构是指将所有项目代码存储在单个代码库中的架构，相对于多个代码库(多个仓库）的多仓库架构来说。 Monorepo 架构可以帮助开发人员更好地管理项目的依赖关系，更好地协作和共享代码，更好地维护和更新项目中的库和工具。

Monorepo 通常使用工具来管理项目之间的依赖关系，如 Lerna, Yarn workspace 等。使用这种架构，开发人员可以在不同的项目之间共享代码，并可以在一个地方管理和维护所有项目的库和工具。

### 优势

1. 代码共享和复用：在单个仓库中维护所有项目代码，可以方便地在项目之间共享和复用代码
2. 依赖管理：将所有项目的依赖关系统一管理，可以避免版本冲突和不兼容性问题
3. 协作和团队协作：在单个仓库中维护所有项目，可以更好地协调团队成员之间的工作，并且更容易管理代码审核和合并
4. 统一的工具和流程：在单个仓库中维护所有项目，可以使用相同的工具和流程来管理所有项目，减少开发人员的学习成本
5. 更好的可维护性：在单个仓库中维护所有项目，可以更好地维护项目的整体结构和组件之间的关系，减少项目的维护成本

### 劣势

1. 大型项目管理难度：对于大型项目，单个仓库中存储所有代码可能会导致管理和维护难度增加。
2. 长时间的构建和部署时间：由于所有项目都存储在单个仓库中，因此构建和部署所有项目可能需要较长时间。
3. 难以隔离问题：如果单个项目出现问题，可能会影响整个仓库中的其他项目。
4. 更高的学习成本：使用 Monorepo 架构可能需要学习新的工具和流程，这可能会增加开发人员的学习成本。

### 解决了什么问题

Monorepo 架构可以解决多个项目之间的依赖关系管理问题。在传统的多仓库架构中，每个项目都是一个单独的仓库，这意味着在不同项目之间进行依赖关系管理非常困难。而在 Monorepo 架构中，所有项目都在一个仓库中管理，这使得依赖关系管理变得简单明了。此外，Monorepo 架构还可以帮助提高团队协作效率和代码的可维护性。

## 编辑器

流程编辑器

### 海报编辑器

形状编辑插件

数据驱动框架

渲染引擎能力封装

---

低码编辑器

低代码沙箱实现

基于 Proxy + With + new Function 的沙箱实现

使用 Proxy 拦截对全局对象的访问, 在 get 方法中动态创建 Proxy 对象来对深层属性拦截

通过白名单机制限制属性访问权限

使用 With 语句将代码块的作用域绑定到沙箱对象, 使用 new Function 执行代码块
